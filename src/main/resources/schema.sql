CREATE TABLE IF NOT EXISTS users (
        userId INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        email VARCHAR(100) NOT NULL,
        login VARCHAR(100) NOT NULL,
        name VARCHAR(100) NOT NULL,
        birthday DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS friendships (
        userId INTEGER NOT NULL REFERENCES users (userId) ON DELETE CASCADE PRIMARY KEY,
        friendId INTEGER NOT NULL REFERENCES users (userId) ON DELETE CASCADE,
        confirmation DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS films (
        filmId INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name VARCHAR(100) NOT NULL,
        description VARCHAR(200) NOT NULL,
        releaseDate DATE NOT NULL,
        duration INTEGER NOT NULL
);

CREATE TABLE IF NOT EXISTS genres (
        filmId INTEGER NOT NULL REFERENCES films (id) ON DELETE CASCADE PRIMARY KEY,
        genre VARCHAR(100)
);

CREATE TABLE IF NOT EXISTS ratings (
        filmId INTEGER NOT NULL REFERENCES films (id) ON DELETE CASCADE PRIMARY KEY,
        rating VARCHAR(100)
);

CREATE TABLE IF NOT EXISTS likes (
       filmId INTEGER NOT NULL REFERENCES films (id) ON DELETE CASCADE PRIMARY KEY,
       userId INTEGER NOT NULL REFERENCES users (id) ON DELETE CASCADE
);