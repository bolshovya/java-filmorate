CREATE TABLE IF NOT EXISTS users (
        id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        email VARCHAR(255) NOT NULL,
        login VARCHAR(255) NOT NULL,
        name VARCHAR(255) NOT NULL,
        birthday DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS friendships (
        user_id INTEGER REFERENCES users (id) ON DELETE CASCADE,
        friend_id INTEGER REFERENCES users (id) ON DELETE CASCADE,
        confirmation BOOLEAN
);

CREATE TABLE IF NOT EXISTS films (
        id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        name VARCHAR(255) NOT NULL,
        description VARCHAR(255) NOT NULL,
        releaseDate DATE NOT NULL,
        duration INTEGER NOT NULL
);

CREATE TABLE IF NOT EXISTS genres (
        film_id INTEGER REFERENCES films (id) ON DELETE CASCADE PRIMARY KEY,
        genre VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS ratings (
        film_id INTEGER REFERENCES films (id) ON DELETE CASCADE PRIMARY KEY,
        rating VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS likes (
       film_id INTEGER REFERENCES films (id) ON DELETE CASCADE,
       user_id INTEGER REFERENCES users (id) ON DELETE CASCADE
);